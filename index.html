<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="yohaku">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="yohaku 2026 - ç¿’æ…£ç®¡ç†ã‚¢ãƒ—ãƒª">
  <title>yohaku 2026</title>
  
  <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cmVjdCBmaWxsPSIjNEY0NkU1IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgcng9IjIwIi8+PHRleHQgeD0iNTAiIHk9IjY1IiBmb250LXNpemU9IjUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSI+5L2ZPC90ZXh0Pjwvc3ZnPg==">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;500;700&family=Noto+Serif+JP:wght@400;600&display=swap" rel="stylesheet">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: 'Zen Kaku Gothic New', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #fafaf9;
      color: #1c1917;
      min-height: 100vh;
      overscroll-behavior: none;
      -webkit-overflow-scrolling: touch;
    }
    
    .font-serif { font-family: 'Noto Serif JP', serif; }
    
    /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid #e7e5e4;
      padding: env(safe-area-inset-top) 16px 12px;
    }
    
    .header-inner {
      max-width: 480px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .logo-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 18px;
    }
    
    .logo-text h1 {
      font-size: 16px;
      font-weight: 600;
    }
    
    .logo-text span {
      font-size: 10px;
      color: #a8a29e;
    }
    
    .streak-badge {
      display: flex;
      align-items: center;
      gap: 4px;
      background: #fff7ed;
      color: #ea580c;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 700;
    }
    
    /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
    .main {
      max-width: 480px;
      margin: 0 auto;
      padding: 16px;
      padding-bottom: 100px;
    }
    
    /* ã‚«ãƒ¼ãƒ‰ */
    .card {
      background: white;
      border-radius: 16px;
      border: 1px solid #f5f5f4;
      box-shadow: 0 1px 3px rgba(0,0,0,0.04);
      margin-bottom: 16px;
      overflow: hidden;
    }
    
    .card-header {
      padding: 14px 16px;
      border-bottom: 1px solid #f5f5f4;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .card-header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .card-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }
    
    .card-icon.amber { background: #fef3c7; color: #f59e0b; }
    .card-icon.indigo { background: #e0e7ff; color: #6366f1; }
    .card-icon.rose { background: #ffe4e6; color: #f43f5e; }
    .card-icon.teal { background: #ccfbf1; color: #14b8a6; }
    
    .card-title {
      font-size: 14px;
      font-weight: 600;
      color: #44403c;
    }
    
    .card-percent {
      font-size: 18px;
      font-weight: 700;
    }
    
    .card-percent.amber { color: #f59e0b; }
    .card-percent.indigo { color: #6366f1; }
    
    /* ç¿’æ…£ãƒªã‚¹ãƒˆ */
    .habit-list {
      list-style: none;
    }
    
    .habit-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      border-bottom: 1px solid #fafaf9;
      cursor: pointer;
      transition: background 0.15s;
    }
    
    .habit-item:last-child {
      border-bottom: none;
    }
    
    .habit-item:active {
      background: #fafaf9;
    }
    
    .habit-check {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #d6d3d1;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      flex-shrink: 0;
    }
    
    .habit-check.done {
      border-color: transparent;
    }
    
    .habit-check.done.amber { background: #f59e0b; }
    .habit-check.done.indigo { background: #6366f1; }
    .habit-check.done.green { background: #22c55e; }
    
    .habit-check svg {
      width: 14px;
      height: 14px;
      color: white;
      opacity: 0;
      transition: opacity 0.2s;
    }
    
    .habit-check.done svg {
      opacity: 1;
    }
    
    .habit-info {
      flex: 1;
    }
    
    .habit-name {
      font-size: 14px;
      color: #44403c;
      transition: all 0.2s;
    }
    
    .habit-name.done {
      color: #a8a29e;
      text-decoration: line-through;
    }
    
    .habit-time {
      font-size: 12px;
      color: #a8a29e;
    }
    
    /* æ—¥ä»˜ãƒŠãƒ“ */
    .date-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 8px;
      margin-bottom: 16px;
    }
    
    .date-nav button {
      width: 40px;
      height: 40px;
      border: none;
      background: none;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #a8a29e;
    }
    
    .date-nav button:active {
      background: #f5f5f4;
    }
    
    .date-display {
      text-align: center;
    }
    
    .date-display .date {
      font-size: 22px;
      font-weight: 600;
      color: #1c1917;
    }
    
    .date-display .day {
      font-size: 16px;
      color: #a8a29e;
    }
    
    .today-badge {
      display: inline-block;
      margin-top: 4px;
      font-size: 10px;
      font-weight: 600;
      color: #6366f1;
      background: #e0e7ff;
      padding: 2px 8px;
      border-radius: 10px;
    }
    
    /* ãƒ†ãƒ¼ãƒã‚«ãƒ¼ãƒ‰ */
    .theme-card {
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      border-radius: 16px;
      padding: 20px;
      color: white;
      margin-bottom: 16px;
    }
    
    .theme-card-inner {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    
    .theme-label {
      font-size: 12px;
      opacity: 0.8;
    }
    
    .theme-name {
      font-size: 22px;
      font-weight: 600;
      margin-top: 4px;
    }
    
    .theme-quote {
      font-size: 12px;
      opacity: 0.8;
      margin-top: 12px;
      font-style: italic;
    }
    
    .theme-percent {
      text-align: right;
    }
    
    .theme-percent .num {
      font-size: 32px;
      font-weight: 700;
    }
    
    .theme-percent .label {
      font-size: 11px;
      opacity: 0.8;
    }
    
    /* å¥åº·è¨˜éŒ² */
    .health-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      padding: 16px;
    }
    
    .health-item {
      background: #fafaf9;
      border-radius: 12px;
      padding: 12px;
    }
    
    .health-label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #78716c;
      margin-bottom: 8px;
    }
    
    .health-input-wrap {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .health-input {
      width: 100%;
      background: white;
      border: 1px solid #e7e5e4;
      border-radius: 8px;
      padding: 8px;
      font-size: 18px;
      font-weight: 600;
      text-align: center;
      color: #44403c;
    }
    
    .health-input:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99,102,241,0.1);
    }
    
    .health-unit {
      font-size: 12px;
      color: #a8a29e;
      width: 24px;
    }
    
    /* ãƒ¡ãƒ¢ */
    .note-textarea {
      width: 100%;
      background: #fafaf9;
      border: none;
      border-radius: 12px;
      padding: 12px;
      font-size: 14px;
      color: #44403c;
      resize: none;
      height: 80px;
      font-family: inherit;
    }
    
    .note-textarea:focus {
      outline: none;
      box-shadow: 0 0 0 2px rgba(99,102,241,0.2);
    }
    
    .note-textarea::placeholder {
      color: #a8a29e;
    }
    
    /* ãƒœãƒˆãƒ ãƒŠãƒ“ */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-top: 1px solid #e7e5e4;
      padding-bottom: env(safe-area-inset-bottom);
    }
    
    .bottom-nav-inner {
      max-width: 480px;
      margin: 0 auto;
      display: flex;
    }
    
    .nav-btn {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px 0;
      border: none;
      background: none;
      cursor: pointer;
      color: #a8a29e;
      transition: color 0.2s;
    }
    
    .nav-btn.active {
      color: #6366f1;
    }
    
    .nav-btn svg {
      width: 24px;
      height: 24px;
    }
    
    .nav-btn span {
      font-size: 10px;
      margin-top: 2px;
    }
    
    /* é€±é–“ãƒ“ãƒ¥ãƒ¼ */
    .week-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      margin-bottom: 16px;
    }
    
    .week-day {
      background: white;
      border: 1px solid #f5f5f4;
      border-radius: 12px;
      padding: 10px 4px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .week-day:active {
      transform: scale(0.95);
    }
    
    .week-day.today {
      background: #6366f1;
      border-color: #6366f1;
      color: white;
      box-shadow: 0 4px 12px rgba(99,102,241,0.3);
    }
    
    .week-day .day-name {
      font-size: 10px;
      color: #a8a29e;
    }
    
    .week-day.today .day-name {
      color: rgba(255,255,255,0.7);
    }
    
    .week-day .day-num {
      font-size: 16px;
      font-weight: 600;
      margin: 4px 0;
    }
    
    .week-day.today .day-num {
      color: white;
    }
    
    .week-progress {
      display: flex;
      flex-direction: column;
      gap: 3px;
      margin-top: 6px;
    }
    
    .week-progress-bar {
      height: 3px;
      background: #f5f5f4;
      border-radius: 2px;
      overflow: hidden;
    }
    
    .week-day.today .week-progress-bar {
      background: rgba(255,255,255,0.3);
    }
    
    .week-progress-fill {
      height: 100%;
      border-radius: 2px;
      transition: width 0.3s;
    }
    
    .week-progress-fill.amber { background: #f59e0b; }
    .week-progress-fill.indigo { background: #6366f1; }
    .week-day.today .week-progress-fill { background: white; }
    
    /* é€±é–“ãƒ†ãƒ¼ãƒ–ãƒ« */
    .week-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }
    
    .week-table th {
      padding: 10px 4px;
      font-weight: 500;
      color: #a8a29e;
      font-size: 12px;
    }
    
    .week-table td {
      padding: 8px 4px;
      text-align: center;
      border-top: 1px solid #f5f5f4;
    }
    
    .week-table .activity-name {
      display: flex;
      align-items: center;
      gap: 8px;
      text-align: left;
      padding-left: 12px;
      color: #57534e;
    }
    
    .week-check-btn {
      width: 28px;
      height: 28px;
      border-radius: 8px;
      border: none;
      background: #f5f5f4;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      transition: all 0.2s;
    }
    
    .week-check-btn:active {
      transform: scale(0.9);
    }
    
    .week-check-btn.done {
      background: #22c55e;
      color: white;
    }
    
    .week-check-btn.scheduled {
      background: #f5f5f4;
    }
    
    .week-check-btn svg {
      width: 16px;
      height: 16px;
    }
    
    /* ç›®æ¨™ãƒ“ãƒ¥ãƒ¼ */
    .year-goals {
      background: linear-gradient(135deg, #fef3c7, #fed7aa);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
    }
    
    .year-goals-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      font-weight: 600;
      color: #78350f;
      margin-bottom: 16px;
    }
    
    .goal-item {
      display: flex;
      align-items: center;
      gap: 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .goal-item:active {
      background: rgba(255,255,255,0.9);
    }
    
    .goal-item.done {
      background: #fef3c7;
    }
    
    .goal-check {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #d97706;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.2s;
    }
    
    .goal-check.done {
      background: #f59e0b;
      border-color: #f59e0b;
    }
    
    .goal-check svg {
      width: 14px;
      height: 14px;
      color: white;
      opacity: 0;
    }
    
    .goal-check.done svg {
      opacity: 1;
    }
    
    .goal-text {
      flex: 1;
      font-size: 14px;
      color: #78350f;
    }
    
    .goal-text.done {
      text-decoration: line-through;
      opacity: 0.7;
    }
    
    .goal-deadline {
      font-size: 12px;
      color: #a8a29e;
    }
    
    /* æœˆã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ */
    .month-selector {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 4px 0 16px;
      margin: 0 -16px;
      padding-left: 16px;
      padding-right: 16px;
      -webkit-overflow-scrolling: touch;
    }
    
    .month-selector::-webkit-scrollbar {
      display: none;
    }
    
    .month-btn {
      flex-shrink: 0;
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid #e7e5e4;
      background: white;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
    }
    
    .month-btn:active {
      transform: scale(0.95);
    }
    
    .month-btn.active {
      background: #6366f1;
      border-color: #6366f1;
      color: white;
    }
    
    .month-btn .name {
      font-size: 14px;
      font-weight: 600;
    }
    
    .month-btn .pct {
      font-size: 12px;
      opacity: 0.7;
    }
    
    /* çµ±è¨ˆãƒ“ãƒ¥ãƒ¼ */
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .stat-card {
      border-radius: 16px;
      padding: 16px;
      color: white;
      text-align: center;
    }
    
    .stat-card.orange { background: linear-gradient(135deg, #f97316, #f59e0b); }
    .stat-card.green { background: linear-gradient(135deg, #22c55e, #14b8a6); }
    .stat-card.indigo { background: linear-gradient(135deg, #6366f1, #8b5cf6); }
    .stat-card.pink { background: linear-gradient(135deg, #ec4899, #f43f5e); }
    
    .stat-card svg {
      width: 32px;
      height: 32px;
      opacity: 0.9;
      margin-bottom: 8px;
    }
    
    .stat-card .num {
      font-size: 32px;
      font-weight: 700;
    }
    
    .stat-card .label {
      font-size: 12px;
      opacity: 0.9;
    }
    
    /* ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ— */
    .heatmap {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 4px;
      margin-bottom: 8px;
    }
    
    .heatmap-cell {
      aspect-ratio: 1;
      border-radius: 4px;
      background: #f5f5f4;
    }
    
    .heatmap-cell.l1 { background: #dcfce7; }
    .heatmap-cell.l2 { background: #86efac; }
    .heatmap-cell.l3 { background: #4ade80; }
    .heatmap-cell.l4 { background: #22c55e; }
    
    .heatmap-legend {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      color: #a8a29e;
    }
    
    .heatmap-legend .cell {
      width: 12px;
      height: 12px;
      border-radius: 2px;
    }
    
    /* é€±é–“ãƒãƒ£ãƒ¼ãƒˆ */
    .week-chart {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      height: 120px;
      gap: 8px;
      margin-bottom: 12px;
    }
    
    .week-chart-bar {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .week-chart-bar .bars {
      display: flex;
      flex-direction: column;
      gap: 2px;
      width: 100%;
    }
    
    .week-chart-bar .bar {
      border-radius: 4px;
      transition: height 0.3s;
    }
    
    .week-chart-bar .bar.amber { background: #fbbf24; }
    .week-chart-bar .bar.indigo { background: #818cf8; }
    
    .week-chart-bar .label {
      margin-top: 8px;
      font-size: 11px;
      color: #a8a29e;
    }
    
    .chart-legend {
      display: flex;
      justify-content: center;
      gap: 16px;
      font-size: 12px;
      color: #78716c;
    }
    
    .chart-legend span {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    
    .chart-legend .dot {
      width: 12px;
      height: 12px;
      border-radius: 4px;
    }
    
    .chart-legend .dot.amber { background: #fbbf24; }
    .chart-legend .dot.indigo { background: #818cf8; }
    
    /* ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ */
    .guidelines {
      background: #fafaf9;
      border-radius: 16px;
      padding: 20px;
    }
    
    .guidelines-title {
      font-size: 16px;
      font-weight: 600;
      color: #44403c;
      margin-bottom: 16px;
    }
    
    .guideline-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 12px;
    }
    
    .guideline-num {
      width: 24px;
      height: 24px;
      background: #e0e7ff;
      color: #6366f1;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      flex-shrink: 0;
    }
    
    .guideline-text {
      font-size: 14px;
      color: #57534e;
      line-height: 1.5;
    }
    
    /* åŠæœŸã‚«ãƒ¼ãƒ‰ */
    .half-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .half-card {
      background: white;
      border-radius: 16px;
      padding: 16px;
      border: 1px solid #f5f5f4;
    }
    
    .half-card .label {
      font-size: 12px;
      color: #a8a29e;
      margin-bottom: 4px;
    }
    
    .half-card .percent {
      font-size: 28px;
      font-weight: 700;
    }
    
    .half-card .percent.indigo { color: #6366f1; }
    .half-card .percent.violet { color: #8b5cf6; }
    
    /* éè¡¨ç¤º */
    .hidden {
      display: none !important;
    }
    
    /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .view {
      animation: fadeIn 0.3s ease-out;
    }
    
    /* èª­æ›¸ãƒªã‚¹ãƒˆ */
    .book-list {
      padding: 16px;
    }
    
    .book-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      background: rgba(251, 191, 36, 0.1);
      border-radius: 10px;
      margin-bottom: 8px;
    }
    
    .book-num {
      width: 24px;
      height: 24px;
      background: #fef3c7;
      color: #d97706;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
    }
    
    .book-title {
      font-size: 14px;
      color: #57534e;
    }
  </style>
</head>
<body>
  <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
  <header class="header">
    <div class="header-inner">
      <div class="logo">
        <div class="logo-icon">âœ¦</div>
        <div class="logo-text">
          <h1 class="font-serif">yohaku</h1>
          <span>2026</span>
        </div>
      </div>
      <div class="streak-badge" id="streakBadge">
        <span>ğŸ”¥</span>
        <span id="streakNum">0</span>
      </div>
    </div>
  </header>

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <main class="main">
    <!-- ä»Šæ—¥ãƒ“ãƒ¥ãƒ¼ -->
    <div id="todayView" class="view">
      <!-- æ—¥ä»˜ãƒŠãƒ“ -->
      <div class="date-nav">
        <button id="prevDay">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m15 18-6-6 6-6"/></svg>
        </button>
        <div class="date-display">
          <span id="dateDisplay" class="date font-serif"></span>
          <span id="dayDisplay" class="day"></span>
          <div id="todayBadge" class="today-badge hidden">TODAY</div>
        </div>
        <button id="nextDay">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
        </button>
      </div>

      <!-- ãƒ†ãƒ¼ãƒã‚«ãƒ¼ãƒ‰ -->
      <div class="theme-card">
        <div class="theme-card-inner">
          <div>
            <p class="theme-label"><span id="monthName"></span>ã®ãƒ†ãƒ¼ãƒ</p>
            <h2 class="theme-name font-serif">ã€Œ<span id="monthTheme"></span>ã€</h2>
            <p class="theme-quote" id="monthQuote"></p>
          </div>
          <div class="theme-percent">
            <div class="num" id="monthPercent">0%</div>
            <div class="label">ç›®æ¨™é”æˆ</div>
          </div>
        </div>
      </div>

      <!-- æœã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ -->
      <div class="card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-icon amber">â˜€ï¸</div>
            <span class="card-title">æœã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³</span>
          </div>
          <span class="card-percent amber" id="morningPercent">0%</span>
        </div>
        <ul class="habit-list" id="morningHabits"></ul>
      </div>

      <!-- å¤œã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ -->
      <div class="card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-icon indigo">ğŸŒ™</div>
            <span class="card-title">å¤œã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³</span>
          </div>
          <span class="card-percent indigo" id="eveningPercent">0%</span>
        </div>
        <ul class="habit-list" id="eveningHabits"></ul>
      </div>

      <!-- å¥åº·è¨˜éŒ² -->
      <div class="card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-icon rose">â¤ï¸</div>
            <span class="card-title">å¥åº·è¨˜éŒ²</span>
          </div>
        </div>
        <div class="health-grid" id="healthInputs"></div>
      </div>

      <!-- ãƒ¡ãƒ¢ -->
      <div class="card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-icon teal">âœï¸</div>
            <span class="card-title">ä»Šæ—¥ã®ä¸€è¨€</span>
          </div>
        </div>
        <div style="padding: 16px; padding-top: 0;">
          <textarea id="noteInput" class="note-textarea" placeholder="æ°—ã¥ãã€æ„Ÿè¬ã€æŒ¯ã‚Šè¿”ã‚Š..."></textarea>
        </div>
      </div>
    </div>

    <!-- é€±é–“ãƒ“ãƒ¥ãƒ¼ -->
    <div id="weekView" class="view hidden">
      <!-- é€±ãƒŠãƒ“ -->
      <div class="date-nav">
        <button id="prevWeek">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m15 18-6-6 6-6"/></svg>
        </button>
        <div class="date-display">
          <span id="weekDisplay" class="date font-serif"></span>
        </div>
        <button id="nextWeek">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>
        </button>
      </div>

      <!-- é€±é–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ -->
      <div class="week-grid" id="weekGrid"></div>

      <!-- é€±é–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">é€±é–“ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</span>
        </div>
        <div style="overflow-x: auto;">
          <table class="week-table" id="weekTable"></table>
        </div>
      </div>

      <!-- èª­æ›¸ãƒªã‚¹ãƒˆ -->
      <div class="card">
        <div class="card-header">
          <div class="card-header-left">
            <div class="card-icon amber">ğŸ“š</div>
            <span class="card-title" id="bookListTitle">èª­æ›¸ãƒªã‚¹ãƒˆ</span>
          </div>
        </div>
        <div class="book-list" id="bookList"></div>
      </div>
    </div>

    <!-- ç›®æ¨™ãƒ“ãƒ¥ãƒ¼ -->
    <div id="goalsView" class="view hidden">
      <!-- å¹´é–“ç›®æ¨™ -->
      <div class="year-goals">
        <div class="year-goals-title">
          <span>â­</span>
          <span class="font-serif">2026å¹´ å¹´é–“ç›®æ¨™</span>
        </div>
        <div id="yearGoalsList"></div>
      </div>

      <!-- æœˆã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
      <div class="month-selector" id="monthSelector"></div>

      <!-- æœˆé–“ç›®æ¨™ -->
      <div class="card">
        <div class="card-header">
          <div>
            <span class="card-title" id="monthGoalTitle"></span>
            <p style="font-size: 12px; color: #a8a29e; margin-top: 4px;" id="monthGoalQuote"></p>
          </div>
          <span class="card-percent indigo" id="monthGoalPercent">0%</span>
        </div>
        <ul class="habit-list" id="monthGoalsList"></ul>
      </div>

      <!-- åŠæœŸé€²æ— -->
      <div class="half-grid">
        <div class="half-card">
          <div class="label">ä¸ŠåŠæœŸ (1-6æœˆ)</div>
          <div class="percent indigo" id="h1Percent">0%</div>
        </div>
        <div class="half-card">
          <div class="label">ä¸‹åŠæœŸ (7-12æœˆ)</div>
          <div class="percent violet" id="h2Percent">0%</div>
        </div>
      </div>
    </div>

    <!-- çµ±è¨ˆãƒ“ãƒ¥ãƒ¼ -->
    <div id="statsView" class="view hidden">
      <!-- çµ±è¨ˆã‚«ãƒ¼ãƒ‰ -->
      <div class="stats-grid">
        <div class="stat-card orange">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>
          <div class="num" id="statStreak">0</div>
          <div class="label">é€£ç¶šæ—¥æ•°</div>
        </div>
        <div class="stat-card green">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6 9 17l-5-5"/></svg>
          <div class="num" id="statHabits">0</div>
          <div class="label">å®Œäº†ç¿’æ…£</div>
        </div>
        <div class="stat-card indigo">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
          <div class="num" id="statGoals">0</div>
          <div class="label">é”æˆç›®æ¨™</div>
        </div>
        <div class="stat-card pink">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
          <div class="num">57</div>
          <div class="label">å¹´é–“èª­æ›¸</div>
        </div>
      </div>

      <!-- ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ— -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">éå»30æ—¥ã®ç¿’æ…£é”æˆ</span>
        </div>
        <div style="padding: 16px;">
          <div class="heatmap" id="heatmap"></div>
          <div class="heatmap-legend">
            <span>å°‘</span>
            <div class="cell" style="background: #f5f5f4;"></div>
            <div class="cell" style="background: #dcfce7;"></div>
            <div class="cell" style="background: #86efac;"></div>
            <div class="cell" style="background: #4ade80;"></div>
            <div class="cell" style="background: #22c55e;"></div>
            <span>å¤š</span>
          </div>
        </div>
      </div>

      <!-- é€±é–“ãƒãƒ£ãƒ¼ãƒˆ -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">ä»Šé€±ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</span>
        </div>
        <div style="padding: 16px;">
          <div class="week-chart" id="weekChart"></div>
          <div class="chart-legend">
            <span><div class="dot amber"></div>æœ</span>
            <span><div class="dot indigo"></div>å¤œ</span>
          </div>
        </div>
      </div>

      <!-- å¹´é–“æŒ‡é‡ -->
      <div class="guidelines">
        <div class="guidelines-title font-serif">å¹´é–“æŒ‡é‡</div>
        <div class="guideline-item">
          <div class="guideline-num">1</div>
          <div class="guideline-text">æ‰¹è©•å®¶ã«ãªã‚‰ãšã€æ‰‹ã‚’å‹•ã‹ã—ç¶šã‘ã‚‹</div>
        </div>
        <div class="guideline-item">
          <div class="guideline-num">2</div>
          <div class="guideline-text">è„†å¼±æ€§ã‚’èªã‚åˆã†é–¢ä¿‚æ€§ã‚’ä½œã‚‹</div>
        </div>
        <div class="guideline-item">
          <div class="guideline-num">3</div>
          <div class="guideline-text">ä¸å¯é€†æ€§ã¨ä¸€å›æ€§ã‚’å¤§åˆ‡ã«ã™ã‚‹</div>
        </div>
        <div class="guideline-item">
          <div class="guideline-num">4</div>
          <div class="guideline-text">å¤‰åŒ–ã‚’å—ã‘å…¥ã‚ŒãªãŒã‚‰ã€å¤§åˆ‡ãªã‚‚ã®ã‚’å®ˆã‚‹</div>
        </div>
        <div class="guideline-item">
          <div class="guideline-num">5</div>
          <div class="guideline-text">ã‚¨ãƒƒã‚»ãƒ³ã‚·ãƒ£ãƒ«ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒèª°ã‚ˆã‚Šã‚‚å¹¸ã›ã§ã‚ã£ã¦ã»ã—ã„</div>
        </div>
      </div>
    </div>
  </main>

  <!-- ãƒœãƒˆãƒ ãƒŠãƒ“ -->
  <nav class="bottom-nav">
    <div class="bottom-nav-inner">
      <button class="nav-btn active" data-view="today">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
        <span>ä»Šæ—¥</span>
      </button>
      <button class="nav-btn" data-view="week">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
        <span>é€±é–“</span>
      </button>
      <button class="nav-btn" data-view="goals">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
        <span>ç›®æ¨™</span>
      </button>
      <button class="nav-btn" data-view="stats">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" x2="12" y1="20" y2="10"/><line x1="18" x2="18" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="16"/></svg>
        <span>çµ±è¨ˆ</span>
      </button>
    </div>
  </nav>

  <script>
    // ===== ãƒ‡ãƒ¼ã‚¿å®šç¾© =====
    const MONTHS = [
      { id: 1, name: '1æœˆ', theme: 'å§‹å‹•', quote: 'æ‰¹è©•å®¶ã«ãªã‚‰ãšã€æ‰‹ã‚’å‹•ã‹ã—ç¶šã‘ã‚‹',
        goals: ['å¹´é–“è¨ˆç”»ç¢ºå®šãƒ»å…±æœ‰', 'ãƒ‰ãƒ©ãƒ ã‚¹ã‚¿ã‚¸ã‚ªå¥‘ç´„', 'ãƒ‰ãƒ©ãƒ ç·´ç¿’8å›', 'æœãƒ«ãƒ¼ãƒ†ã‚£ãƒ³å®šç€ç‡80%', '24hãƒ•ã‚¡ã‚¹ãƒ†ã‚£ãƒ³ã‚°4å›', 'æŠ•è³‡å®¶ãƒªã‚¹ãƒˆ30å', 'noteè¨˜äº‹2æœ¬å…¬é–‹', 'ç¾è¡“å±•3å›', 'èª­æ›¸5å†Šèª­äº†'],
        books: ['ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«åŸè«–', 'ã‚±ã‚¢ã®å€«ç†', 'å­˜åœ¨ã¨æ™‚é–“ï¼ˆå…¥é–€ï¼‰', 'äººé–“å¤±æ ¼', 'ç¾ä»£ã‚¢ãƒ¼ãƒˆã¨ã¯ä½•ã‹']
      },
      { id: 2, name: '2æœˆ', theme: 'æ·±æ˜ã‚Š', quote: 'è„†å¼±æ€§ã‚’èªã‚åˆã†é–¢ä¿‚æ€§ã‚’ä½œã‚‹',
        goals: ['MBAå­¦ç¿’16æ™‚é–“', 'ã‚³ãƒ¼ãƒãƒ³ã‚°ç ”ä¿®ç”³è¾¼å®Œäº†', 'è„†å¼±æ€§è«–æ–‡3æœ¬èª­äº†', 'ãƒ”ãƒƒãƒç·´ç¿’10å›', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›', 'ä¹ƒæœ¨å‚ç‰©ä»¶å€™è£œ3ä»¶ä»¥ä¸Š'],
        books: ['ã‚‚ã†ã²ã¨ã¤ã®å£°ã§', 'MBAãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹', 'è«–èª', 'ã“ã“ã‚', 'ç¾è¡“ã®ç‰©èª']
      },
      { id: 3, name: '3æœˆ', theme: 'å¯¾è©±', quote: 'ä¸å¯é€†æ€§ã¨ä¸€å›æ€§ã‚’å¤§åˆ‡ã«ã™ã‚‹',
        goals: ['ä¹ƒæœ¨å‚ç‰©ä»¶å†…è¦‹3ä»¶ä»¥ä¸Š', 'æŠ•è³‡å®¶é¢è«‡3ä»¶å®Œäº†', 'NVCãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—å‚åŠ ', 'ã‚±ã‚¢åŠ´åƒè€…ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼1ä»¶', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›', 'ç‰©ä»¶å¥‘ç´„æº–å‚™å®Œäº†'],
        books: ['ã‚±ã‚¢ã®å€«ç†ã¨å…±æ„Ÿ', 'NVC', 'å–„æ‚ªã®å½¼å²¸', 'ã‚°ãƒ¬ãƒ¼ãƒˆãƒ»ã‚®ãƒ£ãƒ„ãƒ“ãƒ¼', 'å†™çœŸã®æ­´å²']
      },
      { id: 4, name: '4æœˆ', theme: 'ç§»è»¢', quote: 'å¤‰åŒ–ã‚’å—ã‘å…¥ã‚ŒãªãŒã‚‰ã€å¤§åˆ‡ãªã‚‚ã®ã‚’å®ˆã‚‹',
        goals: ['ä¹ƒæœ¨å‚å¼•è¶Šã—å®Œäº†', 'å†™çœŸå±•ä¼ç”»æ›¸ä½œæˆ', 'ãƒ•ã‚£ãƒ«ãƒ 5æœ¬æ’®å½±', 'æ˜ã‚‹ã„éƒ¨å±‹ãƒ»å†™çœŸè«–ç²¾èª­', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›', 'æ–°ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ç¢ºç«‹'],
        books: ['æ˜ã‚‹ã„éƒ¨å±‹', 'å†™çœŸè«–', 'ç´”ç²‹ç†æ€§æ‰¹åˆ¤ï¼ˆå…¥é–€ï¼‰', 'ç•°é‚¦äºº', 'ã‚¢ãƒ¼ãƒˆãƒ»ã‚¹ãƒ”ãƒªãƒƒãƒˆ']
      },
      { id: 5, name: '5æœˆ', theme: 'äº‹æ¥­', quote: 'ã‚¨ãƒƒã‚»ãƒ³ã‚·ãƒ£ãƒ«ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒèª°ã‚ˆã‚Šã‚‚å¹¸ã›ã§ã‚ã£ã¦ã»ã—ã„',
        goals: ['yohakuæœˆå•†50ä¸‡å††', 'PxDTä¸ŠæœŸæˆæœè³‡æ–™å®Œæˆ', 'æŠ•è³‡å®¶é¢è«‡5ä»¶ä»¥ä¸Š', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›', 'å†™çœŸå±•ä¼šå ´å€™è£œãƒªã‚¹ãƒˆå®Œæˆ'],
        books: ['2030å¹´ã®ä¸–ç•Œåœ°å›³å¸³', 'ãƒ‡ã‚¸ã‚¿ãƒ«ãƒã‚¤ãƒãƒ£ãƒ¼', 'æ–¹æ³•åºèª¬', '1984å¹´', 'èŠ¸è¡“ã®æ„å‘³']
      },
      { id: 6, name: '6æœˆ', theme: 'è©•ä¾¡', quote: 'è±Šã‹ãªå¾Œæ‚”ã®å¤šã„äººç”Ÿã‚’',
        goals: ['PxDTä¸ŠæœŸè©•ä¾¡é¢è«‡å®Œäº†', 'ä¸ŠåŠæœŸç·æ‹¬noteå…¬é–‹', 'ã‚³ãƒ¼ãƒãƒ³ã‚°ç ”ä¿®é–‹å§‹', 'èª­æ›¸4å†Šèª­äº†', 'ç¾è¡“å±•3å›', 'ä½“é‡60kgé”æˆ', 'ä¸‹åŠæœŸè¨ˆç”»ç­–å®šå®Œäº†'],
        books: ['ãƒ”ãƒ¼ã‚¿ãƒ¼ãƒ»ãƒ‘ãƒ³', 'ã„ã®ã¡ã¯ã®ã¡ã®ã„ã®ã¡ã¸', 'ã‚¨ãƒã‚«ï¼ˆå…¥é–€ï¼‰', 'æ˜Ÿã®ç‹å­ã•ã¾']
      },
      { id: 7, name: '7æœˆ', theme: 'ç¶™æ‰¿', quote: 'æˆ¦äº‰ã®è¨˜æ†¶ã¨å‘ãåˆã†',
        goals: ['ã‚³ãƒ¼ãƒãƒ³ã‚°è³‡æ ¼ç ”ä¿®é›†ä¸­', 'æˆ¦äº‰ã¨è¨˜æ†¶ã®noteè¨˜äº‹', 'åºƒå³¶è¨ªå•è¨ˆç”»ç¢ºå®š', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›'],
        books: ['ä»–è€…ã®è‹¦ç—›ã¸ã®ã¾ãªã–ã—', 'å¤œã¨éœ§', 'å…¨ä½“æ€§ã¨ç„¡é™ï¼ˆå…¥é–€ï¼‰', 'æˆ¦äº‰ã¨å¹³å’Œï¼ˆæŠœç²‹ï¼‰', 'ã‚²ãƒ«ãƒ‹ã‚«é–¢é€£']
      },
      { id: 8, name: '8æœˆ', theme: 'ç¥ˆã‚Š', quote: '8æœˆ6æ—¥ã€å‚ã«ã„ã‚‹ã“ã¨ã®æ„å‘³',
        goals: ['8/6 åºƒå³¶è¨ªå•', 'ã‚³ãƒ¼ãƒãƒ³ã‚°è³‡æ ¼è©¦é¨“æº–å‚™', 'å†™çœŸé¸å®šï¼ˆå±•è¦§ä¼šç”¨ï¼‰', 'èª­æ›¸4å†Šèª­äº†', 'é™ã‹ã«å†…çœã™ã‚‹æ™‚é–“ç¢ºä¿'],
        books: ['åŸçˆ†è©©é›†', 'ãƒ’ãƒ­ã‚·ãƒãƒ»ãƒãƒ¼ãƒˆ', 'æ­»ã«è‡³ã‚‹ç—…', 'é»’ã„é›¨']
      },
      { id: 9, name: '9æœˆ', theme: 'è³‡æ ¼', quote: 'ã‚³ãƒ¼ãƒãƒ³ã‚°è³‡æ ¼è©¦é¨“',
        goals: ['ã‚³ãƒ¼ãƒãƒ³ã‚°è³‡æ ¼è©¦é¨“åˆæ ¼', 'å†™çœŸå±•æº–å‚™æœ¬æ ¼åŒ–', 'ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—é–‹ç™ºç€æ‰‹', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›'],
        books: ['æ„›ã™ã‚‹ã¨ã„ã†ã“ã¨', 'æš‡ã¨é€€å±ˆã®å€«ç†å­¦', 'ã‚³ãƒ¼ãƒãƒ³ã‚°ã®åŸºæœ¬', 'ç½ªã¨ç½°', 'ã‚¢ãƒ¼ãƒˆã®åŠ›']
      },
      { id: 10, name: '10æœˆ', theme: 'æ¥ç¶š', quote: 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã¨ã‚±ã‚¢ã®é–“',
        goals: ['yohakuæœˆå•†80ä¸‡å††', 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼Ã—ã‚±ã‚¢è«–è€ƒå®Œæˆ', 'å†™çœŸå±•å‘ŠçŸ¥ãƒ»DMç™ºé€', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•3å›'],
        books: ['ç”Ÿå‘½ã¨ã¯ä½•ã‹', 'ç”Ÿç‰©ã‹ã‚‰è¦‹ãŸä¸–ç•Œ', 'ç¾è±¡å­¦ã®ç†å¿µ', 'å¤‰èº«', 'èŠ¸è¡“ã¨è„³']
      },
      { id: 11, name: '11æœˆ', theme: 'ç™ºè¡¨', quote: 'ãƒ•ã‚£ãƒ«ãƒ å†™çœŸå±•é–‹å‚¬',
        goals: ['ãƒ•ã‚£ãƒ«ãƒ å†™çœŸå±•é–‹å‚¬ãƒ»æˆåŠŸ', 'PxDTä¸‹æœŸæˆæœã¾ã¨ã‚', 'ã‚¹ã‚¤ã‚¹æ¸¡èˆªæº–å‚™', 'èª­æ›¸5å†Šèª­äº†', 'ç¾è¡“å±•2å›'],
        books: ['è´ˆä¸è«–', 'ã‚³ãƒ³ãƒ´ã‚£ãƒ´ã‚£ã‚¢ãƒªãƒ†ã‚£ã®ãŸã‚ã®é“å…·', 'ç²¾ç¥ç¾è±¡å­¦ï¼ˆå…¥é–€ï¼‰', 'ãƒãƒ«ã‚¦ã‚§ã‚¤ã®æ£®', 'ã‚¹ã‚¤ã‚¹é–¢é€£']
      },
      { id: 12, name: '12æœˆ', theme: 'é”æˆ', quote: '2026å¹´ã‚’æŒ¯ã‚Šè¿”ã‚Šã€2030å¹´ã‚’è¦‹æ®ãˆã‚‹',
        goals: ['yohakuæœˆå•†100ä¸‡å††é”æˆ', 'PxDTä¸‹æœŸè©•ä¾¡ãƒ»æ˜‡æ ¼', 'ã‚¹ã‚¤ã‚¹æ¸¡èˆª', '2026å¹´ç·æ‹¬noteå…¬é–‹', '2027å¹´è¨ˆç”»ç­–å®š', 'èª­æ›¸4å†Šèª­äº†'],
        books: ['ãƒ„ã‚¡ãƒ©ãƒˆã‚¥ã‚¹ãƒˆãƒ©', 'é›ªå›½', '2027å¹´è¨ˆç”»ç­–å®š']
      }
    ];

    const YEAR_GOALS = [
      { text: 'yohakuæœˆå•†100ä¸‡å††é”æˆ', deadline: '12æœˆ' },
      { text: 'PxDTæ˜‡æ ¼ãƒ»æ˜‡çµ¦', deadline: 'è©•ä¾¡æœŸ' },
      { text: 'ã‚³ãƒ¼ãƒãƒ³ã‚°è³‡æ ¼å–å¾—', deadline: '9æœˆ' },
      { text: 'ãƒ•ã‚£ãƒ«ãƒ å†™çœŸå±•é–‹å‚¬', deadline: '11æœˆ' },
      { text: 'MBAç§‘ç›®ä¿®äº†', deadline: 'é€šå¹´' },
      { text: 'ä¹ƒæœ¨å‚ã¸å¼•è¶Šã—', deadline: '4æœˆ' },
      { text: 'ä½“é‡60kgç¶­æŒ', deadline: 'é€šå¹´' },
      { text: 'ã‚¹ã‚¤ã‚¹æ¸¡èˆª', deadline: '12æœˆ' }
    ];

    const MORNING_HABITS = [
      { id: 'wake', name: 'èµ·åºŠãƒ»ç™½æ¹¯', time: '6:00' },
      { id: 'meditation_am', name: 'ç‘æƒ³', time: '6:10' },
      { id: 'walk', name: 'æœæ•£æ­©', time: '6:25' },
      { id: 'exercise', name: 'ç­‹ãƒˆãƒ¬', time: '6:55' },
      { id: 'breakfast', name: 'è…¸æ´»æœé£Ÿ', time: '7:10' }
    ];

    const EVENING_HABITS = [
      { id: 'reading', name: 'èª­æ›¸', time: '21:00' },
      { id: 'study', name: 'MBA/ãƒ‰ãƒ©ãƒ ', time: '21:30' },
      { id: 'journal', name: 'æŒ¯ã‚Šè¿”ã‚Š', time: '22:00' },
      { id: 'meditation_pm', name: 'ç‘æƒ³', time: '22:50' }
    ];

    const WEEKLY_ACTIVITIES = [
      { id: 'mba', name: 'MBAå­¦ç¿’', icon: 'ğŸ“', days: [1, 3, 7] },
      { id: 'drum', name: 'ãƒ‰ãƒ©ãƒ ', icon: 'ğŸ¥', days: [2, 4] },
      { id: 'nvc', name: 'NVC', icon: 'ğŸ‘¥', days: [2] },
      { id: 'film', name: 'æ’®å½±', icon: 'ğŸ“·', days: [5] },
      { id: 'museum', name: 'ç¾è¡“å±•', icon: 'ğŸ¨', days: [6, 7] },
      { id: 'tea', name: 'èŒ¶é“', icon: 'ğŸµ', days: [6] },
      { id: 'fasting', name: 'ãƒ•ã‚¡ã‚¹ãƒ†ã‚£ãƒ³ã‚°', icon: 'âš¡', days: [6] }
    ];

    const HEALTH_ITEMS = [
      { id: 'weight', name: 'ä½“é‡', unit: 'kg', icon: 'âš–ï¸' },
      { id: 'sleep', name: 'ç¡çœ ', unit: 'h', icon: 'ğŸŒ™' },
      { id: 'steps', name: 'æ­©æ•°', unit: 'æ­©', icon: 'ğŸ‘Ÿ' },
      { id: 'water', name: 'æ°´åˆ†', unit: 'L', icon: 'ğŸ’§' }
    ];

    // ===== ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ =====
    const store = {
      get(key) {
        try {
          const data = localStorage.getItem('yohaku-' + key);
          return data ? JSON.parse(data) : {};
        } catch (e) {
          return {};
        }
      },
      set(key, value) {
        try {
          localStorage.setItem('yohaku-' + key, JSON.stringify(value));
        } catch (e) {}
      }
    };

    // ===== çŠ¶æ…‹ =====
    let currentView = 'today';
    let selectedDate = new Date();
    let habits = store.get('habits');
    let goals = store.get('goals');
    let health = store.get('health');
    let notes = store.get('notes');

    // ===== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ =====
    function formatDate(date) {
      const d = new Date(date);
      return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
    }

    function getWeekDates(date) {
      const d = new Date(date);
      const day = d.getDay();
      const diff = d.getDate() - day + (day === 0 ? -6 : 1);
      const monday = new Date(d);
      monday.setDate(diff);
      const dates = [];
      for (let i = 0; i < 7; i++) {
        const dd = new Date(monday);
        dd.setDate(monday.getDate() + i);
        dates.push(formatDate(dd));
      }
      return dates;
    }

    function getDayName(date) {
      return ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'][new Date(date).getDay()];
    }

    function isToday(dateStr) {
      return formatDate(new Date()) === dateStr;
    }

    function getCurrentMonth() {
      const m = new Date(selectedDate).getMonth() + 1;
      return MONTHS.find(month => month.id === m) || MONTHS[0];
    }

    function getCompletion(dateStr, period) {
      const items = period === 'morning' ? MORNING_HABITS : EVENING_HABITS;
      const done = items.filter(h => habits[`${dateStr}-${period}-${h.id}`]).length;
      return { done, total: items.length, pct: Math.round((done / items.length) * 100) };
    }

    function getMonthProgress(monthId) {
      const month = MONTHS.find(m => m.id === monthId);
      if (!month) return { done: 0, total: 0, pct: 0 };
      const done = month.goals.filter((_, i) => goals[`m${monthId}-g${i}`]).length;
      return { done, total: month.goals.length, pct: Math.round((done / month.goals.length) * 100) };
    }

    function getStreak() {
      let streak = 0;
      const today = new Date();
      for (let i = 0; i < 365; i++) {
        const d = new Date(today);
        d.setDate(d.getDate() - i);
        const dateStr = formatDate(d);
        const m = getCompletion(dateStr, 'morning');
        const e = getCompletion(dateStr, 'evening');
        if (m.pct >= 60 && e.pct >= 60) {
          streak++;
        } else if (i > 0) {
          break;
        }
      }
      return streak;
    }

    // ===== ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° =====
    function renderTodayView() {
      const dateStr = formatDate(selectedDate);
      const month = getCurrentMonth();
      
      // æ—¥ä»˜è¡¨ç¤º
      document.getElementById('dateDisplay').textContent = 
        `${selectedDate.getMonth() + 1}æœˆ${selectedDate.getDate()}æ—¥`;
      document.getElementById('dayDisplay').textContent = `(${getDayName(selectedDate)})`;
      document.getElementById('todayBadge').classList.toggle('hidden', !isToday(dateStr));
      
      // æœˆãƒ†ãƒ¼ãƒ
      document.getElementById('monthName').textContent = month.name;
      document.getElementById('monthTheme').textContent = month.theme;
      document.getElementById('monthQuote').textContent = month.quote;
      document.getElementById('monthPercent').textContent = getMonthProgress(month.id).pct + '%';
      
      // æœã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³
      const morningHtml = MORNING_HABITS.map(h => {
        const done = habits[`${dateStr}-morning-${h.id}`];
        return `
          <li class="habit-item" data-period="morning" data-id="${h.id}">
            <div class="habit-check ${done ? 'done amber' : ''}">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 6 9 17l-5-5"/></svg>
            </div>
            <div class="habit-info">
              <div class="habit-name ${done ? 'done' : ''}">${h.name}</div>
            </div>
            <span class="habit-time">${h.time}</span>
          </li>
        `;
      }).join('');
      document.getElementById('morningHabits').innerHTML = morningHtml;
      document.getElementById('morningPercent').textContent = getCompletion(dateStr, 'morning').pct + '%';
      
      // å¤œã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³
      const eveningHtml = EVENING_HABITS.map(h => {
        const done = habits[`${dateStr}-evening-${h.id}`];
        return `
          <li class="habit-item" data-period="evening" data-id="${h.id}">
            <div class="habit-check ${done ? 'done indigo' : ''}">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 6 9 17l-5-5"/></svg>
            </div>
            <div class="habit-info">
              <div class="habit-name ${done ? 'done' : ''}">${h.name}</div>
            </div>
            <span class="habit-time">${h.time}</span>
          </li>
        `;
      }).join('');
      document.getElementById('eveningHabits').innerHTML = eveningHtml;
      document.getElementById('eveningPercent').textContent = getCompletion(dateStr, 'evening').pct + '%';
      
      // å¥åº·è¨˜éŒ²
      const healthHtml = HEALTH_ITEMS.map(h => `
        <div class="health-item">
          <div class="health-label">
            <span>${h.icon}</span>
            <span>${h.name}</span>
          </div>
          <div class="health-input-wrap">
            <input type="number" inputmode="decimal" class="health-input" 
              data-field="${h.id}" value="${health[`${dateStr}-${h.id}`] || ''}" placeholder="--">
            <span class="health-unit">${h.unit}</span>
          </div>
        </div>
      `).join('');
      document.getElementById('healthInputs').innerHTML = healthHtml;
      
      // ãƒ¡ãƒ¢
      document.getElementById('noteInput').value = notes[dateStr] || '';
      
      // ã‚¹ãƒˆãƒªãƒ¼ã‚¯
      const streak = getStreak();
      document.getElementById('streakNum').textContent = streak;
      document.getElementById('streakBadge').style.display = streak > 0 ? 'flex' : 'none';
    }

    function renderWeekView() {
      const weekDates = getWeekDates(selectedDate);
      const todayStr = formatDate(new Date());
      const dayNames = ['æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ', 'æ—¥'];
      const month = getCurrentMonth();
      
      // é€±è¡¨ç¤º
      const startDate = new Date(weekDates[0]);
      const endDate = new Date(weekDates[6]);
      document.getElementById('weekDisplay').textContent = 
        `${startDate.getMonth() + 1}/${startDate.getDate()} ã€œ ${endDate.getMonth() + 1}/${endDate.getDate()}`;
      
      // é€±é–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
      const weekGridHtml = weekDates.map((date, i) => {
        const d = new Date(date);
        const m = getCompletion(date, 'morning');
        const e = getCompletion(date, 'evening');
        const isT = date === todayStr;
        return `
          <div class="week-day ${isT ? 'today' : ''}" data-date="${date}">
            <div class="day-name">${dayNames[i]}</div>
            <div class="day-num">${d.getDate()}</div>
            <div class="week-progress">
              <div class="week-progress-bar">
                <div class="week-progress-fill amber" style="width: ${m.pct}%"></div>
              </div>
              <div class="week-progress-bar">
                <div class="week-progress-fill indigo" style="width: ${e.pct}%"></div>
              </div>
            </div>
          </div>
        `;
      }).join('');
      document.getElementById('weekGrid').innerHTML = weekGridHtml;
      
      // é€±é–“ãƒ†ãƒ¼ãƒ–ãƒ«
      let tableHtml = '<thead><tr><th style="text-align:left;padding-left:12px;">æ´»å‹•</th>';
      dayNames.forEach(d => { tableHtml += `<th>${d}</th>`; });
      tableHtml += '</tr></thead><tbody>';
      
      WEEKLY_ACTIVITIES.forEach(act => {
        tableHtml += `<tr><td class="activity-name"><span>${act.icon}</span>${act.name}</td>`;
        weekDates.forEach((date, dayIdx) => {
          const key = `${date}-weekly-${act.id}`;
          const done = habits[key];
          const scheduled = act.days.includes(dayIdx + 1);
          tableHtml += `<td>
            <button class="week-check-btn ${done ? 'done' : scheduled ? 'scheduled' : ''}" 
              data-key="${key}" ${!scheduled && !done ? 'style="opacity:0.3"' : ''}>
              ${done ? '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 6 9 17l-5-5"/></svg>' : 
                scheduled ? '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color:#d6d3d1"><circle cx="12" cy="12" r="3"/></svg>' : ''}
            </button>
          </td>`;
        });
        tableHtml += '</tr>';
      });
      tableHtml += '</tbody>';
      document.getElementById('weekTable').innerHTML = tableHtml;
      
      // èª­æ›¸ãƒªã‚¹ãƒˆ
      document.getElementById('bookListTitle').textContent = month.name + 'ã®èª­æ›¸ãƒªã‚¹ãƒˆ';
      const bookHtml = month.books.map((book, i) => `
        <div class="book-item">
          <div class="book-num">${i + 1}</div>
          <div class="book-title">${book}</div>
        </div>
      `).join('');
      document.getElementById('bookList').innerHTML = bookHtml;
    }

    function renderGoalsView() {
      const month = getCurrentMonth();
      
      // å¹´é–“ç›®æ¨™
      const yearGoalsHtml = YEAR_GOALS.map((g, i) => {
        const done = goals[`year-${i}`];
        return `
          <div class="goal-item ${done ? 'done' : ''}" data-key="year-${i}">
            <div class="goal-check ${done ? 'done' : ''}">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 6 9 17l-5-5"/></svg>
            </div>
            <span class="goal-text ${done ? 'done' : ''}">${g.text}</span>
            <span class="goal-deadline">${g.deadline}</span>
          </div>
        `;
      }).join('');
      document.getElementById('yearGoalsList').innerHTML = yearGoalsHtml;
      
      // æœˆã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
      const monthSelectorHtml = MONTHS.map(m => {
        const p = getMonthProgress(m.id);
        const active = m.id === month.id;
        return `
          <button class="month-btn ${active ? 'active' : ''}" data-month="${m.id}">
            <div class="name">${m.name}</div>
            <div class="pct">${p.pct}%</div>
          </button>
        `;
      }).join('');
      document.getElementById('monthSelector').innerHTML = monthSelectorHtml;
      
      // æœˆé–“ç›®æ¨™
      document.getElementById('monthGoalTitle').textContent = `${month.name}ã€Œ${month.theme}ã€`;
      document.getElementById('monthGoalQuote').textContent = month.quote;
      document.getElementById('monthGoalPercent').textContent = getMonthProgress(month.id).pct + '%';
      
      const monthGoalsHtml = month.goals.map((g, i) => {
        const done = goals[`m${month.id}-g${i}`];
        return `
          <li class="habit-item" data-key="m${month.id}-g${i}">
            <div class="habit-check ${done ? 'done green' : ''}">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 6 9 17l-5-5"/></svg>
            </div>
            <div class="habit-info">
              <div class="habit-name ${done ? 'done' : ''}">${g}</div>
            </div>
          </li>
        `;
      }).join('');
      document.getElementById('monthGoalsList').innerHTML = monthGoalsHtml;
      
      // åŠæœŸé€²æ—
      const h1Pct = Math.round(MONTHS.slice(0, 6).reduce((a, m) => a + getMonthProgress(m.id).pct, 0) / 6);
      const h2Pct = Math.round(MONTHS.slice(6, 12).reduce((a, m) => a + getMonthProgress(m.id).pct, 0) / 6);
      document.getElementById('h1Percent').textContent = h1Pct + '%';
      document.getElementById('h2Percent').textContent = h2Pct + '%';
    }

    function renderStatsView() {
      const streak = getStreak();
      const habitCount = Object.values(habits).filter(Boolean).length;
      const goalCount = Object.values(goals).filter(Boolean).length;
      
      document.getElementById('statStreak').textContent = streak;
      document.getElementById('statHabits').textContent = habitCount;
      document.getElementById('statGoals').textContent = goalCount;
      
      // ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
      let heatmapHtml = '';
      for (let i = 0; i < 30; i++) {
        const d = new Date();
        d.setDate(d.getDate() - (29 - i));
        const dateStr = formatDate(d);
        const m = getCompletion(dateStr, 'morning');
        const e = getCompletion(dateStr, 'evening');
        const avg = (m.pct + e.pct) / 2;
        let level = '';
        if (avg >= 80) level = 'l4';
        else if (avg >= 60) level = 'l3';
        else if (avg >= 40) level = 'l2';
        else if (avg > 0) level = 'l1';
        heatmapHtml += `<div class="heatmap-cell ${level}"></div>`;
      }
      document.getElementById('heatmap').innerHTML = heatmapHtml;
      
      // é€±é–“ãƒãƒ£ãƒ¼ãƒˆ
      const weekDates = getWeekDates(selectedDate);
      const dayNames = ['æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ', 'æ—¥'];
      let chartHtml = '';
      weekDates.forEach((date, i) => {
        const m = getCompletion(date, 'morning');
        const e = getCompletion(date, 'evening');
        chartHtml += `
          <div class="week-chart-bar">
            <div class="bars">
              <div class="bar amber" style="height: ${m.pct * 0.9}px"></div>
              <div class="bar indigo" style="height: ${e.pct * 0.9}px"></div>
            </div>
            <div class="label">${dayNames[i]}</div>
          </div>
        `;
      });
      document.getElementById('weekChart').innerHTML = chartHtml;
    }

    function render() {
      document.getElementById('todayView').classList.toggle('hidden', currentView !== 'today');
      document.getElementById('weekView').classList.toggle('hidden', currentView !== 'week');
      document.getElementById('goalsView').classList.toggle('hidden', currentView !== 'goals');
      document.getElementById('statsView').classList.toggle('hidden', currentView !== 'stats');
      
      if (currentView === 'today') renderTodayView();
      else if (currentView === 'week') renderWeekView();
      else if (currentView === 'goals') renderGoalsView();
      else if (currentView === 'stats') renderStatsView();
    }

    // ===== ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ =====
    // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
    document.querySelectorAll('.nav-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentView = btn.dataset.view;
        render();
      });
    });

    // æ—¥ä»˜ãƒŠãƒ“
    document.getElementById('prevDay').addEventListener('click', () => {
      selectedDate.setDate(selectedDate.getDate() - 1);
      render();
    });
    document.getElementById('nextDay').addEventListener('click', () => {
      selectedDate.setDate(selectedDate.getDate() + 1);
      render();
    });

    // é€±ãƒŠãƒ“
    document.getElementById('prevWeek').addEventListener('click', () => {
      selectedDate.setDate(selectedDate.getDate() - 7);
      render();
    });
    document.getElementById('nextWeek').addEventListener('click', () => {
      selectedDate.setDate(selectedDate.getDate() + 7);
      render();
    });

    // ç¿’æ…£ãƒˆã‚°ãƒ«
    document.addEventListener('click', (e) => {
      const habitItem = e.target.closest('.habit-item[data-period]');
      if (habitItem) {
        const dateStr = formatDate(selectedDate);
        const key = `${dateStr}-${habitItem.dataset.period}-${habitItem.dataset.id}`;
        habits[key] = !habits[key];
        store.set('habits', habits);
        render();
      }
      
      // é€±é–“ãƒã‚§ãƒƒã‚¯
      const weekCheckBtn = e.target.closest('.week-check-btn');
      if (weekCheckBtn) {
        const key = weekCheckBtn.dataset.key;
        habits[key] = !habits[key];
        store.set('habits', habits);
        render();
      }
      
      // ç›®æ¨™ãƒˆã‚°ãƒ«ï¼ˆå¹´é–“ï¼‰
      const goalItem = e.target.closest('.goal-item[data-key]');
      if (goalItem) {
        const key = goalItem.dataset.key;
        goals[key] = !goals[key];
        store.set('goals', goals);
        render();
      }
      
      // æœˆé–“ç›®æ¨™ãƒˆã‚°ãƒ«
      const monthGoalItem = e.target.closest('#monthGoalsList .habit-item[data-key]');
      if (monthGoalItem) {
        const key = monthGoalItem.dataset.key;
        goals[key] = !goals[key];
        store.set('goals', goals);
        render();
      }
      
      // é€±é–“æ—¥ä»˜ã‚¯ãƒªãƒƒã‚¯
      const weekDay = e.target.closest('.week-day[data-date]');
      if (weekDay) {
        selectedDate = new Date(weekDay.dataset.date);
        currentView = 'today';
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.querySelector('.nav-btn[data-view="today"]').classList.add('active');
        render();
      }
      
      // æœˆã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼
      const monthBtn = e.target.closest('.month-btn[data-month]');
      if (monthBtn) {
        const monthId = parseInt(monthBtn.dataset.month);
        selectedDate = new Date(2026, monthId - 1, 15);
        render();
      }
    });

    // å¥åº·è¨˜éŒ²
    document.addEventListener('change', (e) => {
      if (e.target.classList.contains('health-input')) {
        const dateStr = formatDate(selectedDate);
        const key = `${dateStr}-${e.target.dataset.field}`;
        health[key] = e.target.value;
        store.set('health', health);
      }
    });

    // ãƒ¡ãƒ¢
    document.getElementById('noteInput').addEventListener('input', (e) => {
      const dateStr = formatDate(selectedDate);
      notes[dateStr] = e.target.value;
      store.set('notes', notes);
    });

    // åˆæœŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
    render();
  </script>
</body>
</html>
